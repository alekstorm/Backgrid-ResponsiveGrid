!function(i,n){"function"==typeof define&&define.amd?define(["jquery","underscore","backbone","backgrid"],function(e,r,s){return i.Backgrid.Extension.ResponsiveGrid=n(r,s)}):"object"==typeof exports?module.exports=n(require("jquery"),require("underscore"),require("backbone"),require("backgrid")):i.Backgrid.Extension.ResponsiveGrid=n(i.$,i._,i.Backbone,i.Backgrid)}(this,function(i,n,e,r){var s=r.Grid.extend({isPinnable:!1,isPinned:!1,minScreenSize:797,columnsToPin:1,initialize:function(n){r.Grid.prototype.initialize.call(this,n),this.minScreenSize=n.minScreenSize||this.minScreenSize,this.columnsToPin=n.columnsToPin||this.columnsToPin,this.body.collection.on("backgrid:refresh",this.pinColumns,this),this.header.collection.on("backgrid:sort",this.pinColumns,this),i(window).on("resize",{grid:this},this.setSwitchable),this.setSwitchable()},pinColumns:function(){var i=this.$el,n=i.clone(!0);if(!this.isPinnable||!i.is(":visible"))return!1;this.isPinned||(i.wrap('<div class="grid-responsive-wrapper" />'),i.wrap('<div class="grid-scrollable" />'));for(var e=n.find("th").length,r=this.columnsToPin+1;e>=r;r++)n.find("th:nth-child("+r+"),td:nth-child("+r+")").hide();return this.$el.parents(".grid-responsive-wrapper").find(".grid-pinned").remove(),this.$el.parents(".grid-responsive-wrapper").append(n),n.wrap('<div class="grid-pinned" />'),this.isPinned=!0,!0},unpinColumns:function(){var i=this.$el,n=this.$el.parents(".grid-responsive-wrapper");return i.unwrap(),n.find(".grid-pinned").remove(),i.unwrap(),this.isPinned=!1,!0},setSwitchable:function(e){var r;r=n.isUndefined(e)?this:e.data.grid,i(window).width()<r.minScreenSize?(r.isPinnable=!0,r.pinColumns()):(r.isPinnable=!1,r.unpinColumns())}});return s});