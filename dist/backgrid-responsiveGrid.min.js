!function(a,b){"function"==typeof define&&define.amd?define(["jquery","underscore","backbone","backgrid"],function(c,d,e,f){return a.Backgrid.Extension.ResponsiveGrid=b(d,e,f)}):"object"==typeof exports?module.exports=b(require("jquery"),require("underscore"),require("backbone"),require("backgrid")):a.Backgrid.Extension.ResponsiveGrid=b(a.$,a._,a.Backbone,a.Backgrid)}(this,function(a,b,c,d){var e=d.Grid.extend({isPinnable:!1,isPinned:!1,minScreenSize:797,columnsToPin:1,initialize:function(b){d.Grid.prototype.initialize.call(this,b),this.minScreenSize=b.minScreenSize||this.minScreenSize,this.columnsToPin=b.columnsToPin||this.columnsToPin,this.body.collection.on("backgrid:refresh",this.pinColumns,this),this.header.collection.on("backgrid:sort",this.pinColumns,this),a(window).on("resize",{grid:this},this.setSwitchable),this.setSwitchable({})},pinColumns:function(){var a=this.$el,b=a.clone(!0);if(!this.isPinnable||!a.is(":visible"))return!1;this.isPinned||(a.wrap('<div class="grid-responsive-wrapper" />'),a.wrap('<div class="grid-scrollable" />'));for(var c=b.find("th").length,d=this.columnsToPin+1;c>=d;d++)b.find("th:nth-child("+d+"),td:nth-child("+d+")").hide();return this.$el.parents(".grid-responsive-wrapper").find(".grid-pinned").remove(),this.$el.parents(".grid-responsive-wrapper").append(b),b.wrap('<div class="grid-pinned" />'),this.isPinned=!0,!0},unpinColumns:function(){var a=this.$el,b=this.$el.parents(".grid-responsive-wrapper");return a.unwrap(),b.find(".grid-pinned").remove(),a.unwrap(),this.isPinned=!1,!0},setSwitchable:function(c){var d;d=b.isUndefined(c.data)?this:c.data.grid,a(window).width()<d.minScreenSize?(d.isPinnable=!0,d.pinColumns()):(d.isPinnable=!1,d.unpinColumns())}});return e});