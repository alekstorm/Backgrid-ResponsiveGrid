!function(i,n,e,s){s.Extension.ResponsiveGrid=s.Grid.extend({isPinnable:!1,isPinned:!1,minScreenSize:797,columnsToPin:1,initialize:function(n){s.Grid.prototype.initialize.call(this,n),this.minScreenSize=n.minScreenSize||this.minScreenSize,this.columnsToPin=n.columnsToPin||this.columnsToPin,this.body.collection.on("backgrid:refresh",this.pinColumns,this),this.header.collection.on("backgrid:sort",this.pinColumns,this),i(window).on("resize",{grid:this},this.setSwitchable),this.setSwitchable()},pinColumns:function(){var n=this.$el,e=n.clone(!0);if(!this.isPinnable||!n.is(":visible"))return!1;this.isPinned||(n.wrap('<div class="grid-responsive-wrapper" />'),n.wrap('<div class="grid-scrollable" />')),e.find("th,td").hide();for(var s=1;s<=this.columnsToPin;s++)e.find("th:nth-child("+s+"),td:nth-child("+s+")").show();return this.$el.parents(".grid-responsive-wrapper").find(".grid-pinned").remove(),i(".grid-responsive-wrapper").append(e),e.wrap('<div class="grid-pinned" />'),this.isPinned=!0,!0},unpinColumns:function(){var i=this.$el,n=this.$el.parents(".grid-responsive-wrapper");return i.unwrap(),n.find(".grid-pinned").remove(),i.unwrap(),this.isPinned=!1,!0},setSwitchable:function(e){var s;s=n.isUndefined(e)?this:e.data.grid,i(window).width()<s.minScreenSize?(s.isPinnable=!0,s.pinColumns()):(s.isPinnable=!1,s.unpinColumns())}})}(jQuery,_,Backbone,Backgrid);